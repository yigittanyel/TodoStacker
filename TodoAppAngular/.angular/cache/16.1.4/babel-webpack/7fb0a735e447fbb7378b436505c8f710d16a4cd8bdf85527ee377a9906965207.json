{"ast":null,"code":"import _asyncToGenerator from \"D:/TrialProjects/CardAppRecap/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class TodoServiceService {\n  constructor(apiUrl, http) {\n    this.apiUrl = apiUrl;\n    this.http = http;\n  }\n  getTodos() {\n    this.http.get(this.apiUrl + 'GetTodos').subscribe(res => {\n      this.todos = res;\n    });\n  }\n  getTodoItem(id) {\n    this.http.get(this.apiUrl + 'GetTodo/' + id).subscribe(res => {\n      let index = this.todos.findIndex(t => t.id == res.id);\n      this.todos[index] = res;\n    });\n  }\n  addTodoItem(todoItem) {\n    var _this = this;\n    this.http.post(this.apiUrl + 'CreateTodo', todoItem).subscribe( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(function* (res) {\n        yield _this.todos.push(res);\n      });\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n  }\n  deleteTodoItem(id) {\n    var _this2 = this;\n    this.http.delete(this.apiUrl + 'DeleteTodo/' + id).subscribe( /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator(function* (res) {\n        let index = yield _this2.todos.findIndex(t => t.id == res.id);\n        _this2.todos.splice(index, 1);\n      });\n      return function (_x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n  }\n  updateTodoItem(id, todoItem) {\n    var _this3 = this;\n    this.http.put(this.apiUrl + 'UpdateTodo/' + id, todoItem).subscribe( /*#__PURE__*/function () {\n      var _ref3 = _asyncToGenerator(function* (res) {\n        let index = yield _this3.todos.findIndex(t => t.id == res.id);\n        _this3.todos[index] = res;\n      });\n      return function (_x3) {\n        return _ref3.apply(this, arguments);\n      };\n    }());\n  }\n}\nTodoServiceService.ɵfac = function TodoServiceService_Factory(t) {\n  return new (t || TodoServiceService)(i0.ɵɵinject('apiUrl'), i0.ɵɵinject(i1.HttpClient));\n};\nTodoServiceService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: TodoServiceService,\n  factory: TodoServiceService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"names":["TodoServiceService","constructor","apiUrl","http","getTodos","get","subscribe","res","todos","getTodoItem","id","index","findIndex","t","addTodoItem","todoItem","_this","post","_ref","_asyncToGenerator","push","_x","apply","arguments","deleteTodoItem","_this2","delete","_ref2","splice","_x2","updateTodoItem","_this3","put","_ref3","_x3","i0","ɵɵinject","i1","HttpClient","factory","ɵfac","providedIn"],"sources":["D:\\TrialProjects\\CardAppRecap\\src\\app\\Services\\todo-service.service.ts"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\nimport { Inject, Injectable } from '@angular/core';\nimport { TodoItem } from '../Models/todo-item';\nimport { TodoCreateItem } from '../Models/todo-create-item';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TodoServiceService {\n\n  constructor(\n    @Inject('apiUrl') private apiUrl: string,\n    private http: HttpClient\n  ) { }\n\n  todos: TodoItem[];\n\n  getTodos():void {\n     this.http.get<TodoItem[]>(this.apiUrl + 'GetTodos')\n     .subscribe((res: TodoItem[]) => {\n       this.todos = res;\n    });\n  }\n\n  getTodoItem(id: number):void {\n    this.http.get<TodoItem>(this.apiUrl + 'GetTodo/' + id)\n    .subscribe((res: TodoItem) => {\n      let index = this.todos.findIndex(t => t.id == res.id);\n      this.todos[index] = res;\n    });\n  }\n\n  addTodoItem(todoItem: TodoCreateItem):void {\n    this.http.post<TodoItem>(this.apiUrl + 'CreateTodo', todoItem)\n    .subscribe(async (res: TodoItem) => {\n      await this.todos.push(res);\n      });\n  }\n\n  deleteTodoItem(id: number):void {\n    this.http.delete<TodoItem>(this.apiUrl + 'DeleteTodo/' + id)\n    .subscribe(async (res: TodoItem) => {\n      let index = await this.todos.findIndex(t => t.id == res.id);\n      this.todos.splice(index, 1);\n    });\n  }\n\n  updateTodoItem(id:number,todoItem: TodoItem):void {\n    this.http.put<TodoItem>(this.apiUrl + 'UpdateTodo/' + id, todoItem)\n    .subscribe(async (res: TodoItem) => {\n      let index = await this.todos.findIndex(t => t.id == res.id);\n      this.todos[index] = res;\n    });\n  }\n\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}